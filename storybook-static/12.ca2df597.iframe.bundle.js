"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[12],{"./src/contexts/BaseExperience/BaseExperienceContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>BaseExperienceContext});const BaseExperienceContext=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/index.js").createContext(null)},"./src/contexts/BaseExperience/BaseExperienceProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>BaseExperienceProvider});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/index.js"),ua_parser=__webpack_require__("./node_modules/.pnpm/ua-parser-js@1.0.38/node_modules/ua-parser-js/src/ua-parser.js");var useViewport=__webpack_require__("./src/hooks/viewport/useViewport.tsx");const useSmallDesktop=()=>{const[query,setQuery]=(0,react.useState)(null),isTouchAvailable=(()=>{const[query,setQuery]=(0,react.useState)(null);return(0,react.useEffect)((()=>{const touchQuery=window.matchMedia("(pointer: coarse)");setQuery(null==touchQuery?void 0:touchQuery.matches)}),[]),query})(),viewport=(0,useViewport.k)(["small","medium"]);return(0,react.useEffect)((()=>{!1===isTouchAvailable&&"small"===(null==viewport?void 0:viewport.name)?setQuery(!0):setQuery(!1)}),[viewport,isTouchAvailable]),query};var useLayoutEffectIsomorphic=__webpack_require__("./src/hooks/useLayoutEffectIsomorphic/useLayoutEffectIsomorphic.tsx"),BaseExperienceContext=__webpack_require__("./src/contexts/BaseExperience/BaseExperienceContext.tsx");const BaseExperienceProvider=({children,triggers=[]})=>{const[shouldEnhance,setShouldEnhance]=(0,react.useState)(null),isDesktopSmall=useSmallDesktop(),triggersBaseExperience=[(()=>{const[query,setQuery]=(0,react.useState)(null);return(0,react.useEffect)((()=>{const motionQuery=window.matchMedia("(prefers-reduced-motion: reduce)");setQuery(null==motionQuery?void 0:motionQuery.matches)}),[]),query})(),(()=>{const[query,setQuery]=(0,react.useState)(null);return(0,react.useEffect)((()=>{"Android Browser"===(new ua_parser.UAParser).getResult().browser.name?setQuery(!0):setQuery(!1)}),[]),query})(),isDesktopSmall,...triggers];return(0,useLayoutEffectIsomorphic.A)((()=>{triggersBaseExperience.some((test=>!0===test))?setShouldEnhance(!1):setShouldEnhance(!0)}),[isDesktopSmall,...triggers]),(0,jsx_runtime.jsx)(BaseExperienceContext.L.Provider,{value:shouldEnhance,children})};BaseExperienceProvider.__docgenInfo={description:"",methods:[],displayName:"BaseExperienceProvider",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},triggers:{required:!1,tsType:{name:"Array",elements:[{name:"boolean"}],raw:"boolean[]"},description:"",defaultValue:{value:"[]",computed:!1}}}}},"./src/contexts/Gallery/GalleryContext.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>GalleryContext});const GalleryContext=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/index.js").createContext({galleryObserve:null,galleryUnobserve:null,activeGalleryId:null})},"./src/contexts/Gallery/GalleryContextProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>GalleryContextProvider});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/index.js"),_GalleryContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/contexts/Gallery/GalleryContext.ts");function buildThresholdList(numSteps){const thresholds=[];for(let i=1;i<=numSteps;i++){const ratio=i/numSteps;thresholds.push(ratio)}return thresholds.push(0),thresholds}function GalleryContextProvider({children}){const[galleryEntries,setGalleryEntries]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}),[activeGalleryId,setActiveGalleryId]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[galleryObserver,setGalleryObserver]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const active=Object.values(galleryEntries).sort(((a,b)=>null===a||null===b?0:a.ratio<b.ratio?1:b.ratio<a.ratio?-1:0))[0];setActiveGalleryId(null==active?void 0:active.id)}),[galleryEntries]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const obs=new IntersectionObserver(((entries,observer)=>{entries.forEach((entry=>{setGalleryEntries((current=>Object.assign({},current,{[entry.target.id]:{ratio:entry.intersectionRatio,id:entry.target.id}})))}))}),{root:null,rootMargin:"0px",threshold:buildThresholdList(20)});return setGalleryObserver(obs),()=>{obs.disconnect()}}),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_GalleryContext__WEBPACK_IMPORTED_MODULE_2__.y.Provider,{value:{galleryObserve:(el,id)=>{null!==galleryObserver&&(setGalleryEntries((currEntries=>Object.assign({},currEntries,{[id]:null}))),galleryObserver.observe(el))},galleryUnobserve:(el,id)=>{null!==galleryObserver&&(setGalleryEntries((currEntries=>Object.entries(currEntries).reduce(((acc,[key,val])=>(key!==id&&(acc[key]=val),acc)),{}))),galleryObserver.unobserve(el))},activeGalleryId},children})}GalleryContextProvider.__docgenInfo={description:"",methods:[],displayName:"GalleryContextProvider",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},"./src/contexts/Viewport/ViewportContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ie:()=>getViewportEventsDefaultValue,P5:()=>getViewportGettersDefaultValue,kw:()=>ViewportContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/index.js");const getViewportEventsDefaultValue=()=>({initialized:!1,onViewport:()=>{},offViewport:()=>{},onScreenProp:()=>{},offScreenProp:()=>{}}),getViewportGettersDefaultValue=()=>({getCurrentViewport:()=>null,getCurrentScreenPropValue:()=>null,getOrderedViewports:()=>[],getEmitterIsDestroyed:()=>!0}),ViewportContextDefaultValue={viewportsOrder:[],viewports:{},rangeViewports:{},screenProps:{},events:getViewportEventsDefaultValue(),getters:getViewportGettersDefaultValue()},ViewportContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(ViewportContextDefaultValue)},"./src/contexts/Window/WindowContext.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>WindowContext});const WindowContext=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/index.js").createContext({clientHeight:0,clientWidth:0,scrollY:0})},"./src/hooks/useLayoutEffectIsomorphic/useLayoutEffectIsomorphic.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/index.js").useLayoutEffect},"./src/hooks/viewport/useViewport.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>useViewport});var isEqual=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEqual.js"),react=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/index.js"),ViewportContext=__webpack_require__("./src/contexts/Viewport/ViewportContext.tsx"),useLayoutEffectIsomorphic=__webpack_require__("./src/hooks/useLayoutEffectIsomorphic/useLayoutEffectIsomorphic.tsx");const getNearestViewport=({currentViewportName,targetViewportName,orderedViewportNames,allOrderedViewportNames,viewports})=>{if(void 0!==targetViewportName&&currentViewportName===targetViewportName)return viewports[targetViewportName];if(-1!==orderedViewportNames.indexOf(currentViewportName))return viewports[currentViewportName];const indexInFullList=allOrderedViewportNames.indexOf(currentViewportName);if(-1===indexInFullList)return null;for(let i=indexInFullList;i>-1;i--)if(orderedViewportNames.includes(allOrderedViewportNames[i]))return viewports[allOrderedViewportNames[i]];return viewports[orderedViewportNames[0]]},useViewportHandlers=({setViewport,onViewport,offViewport,getCurrentViewport,getEmitterIsDestroyed,orderedViewportsToWatch,allOrderedViewportNames,allViewports})=>{const viewportName=(0,react.useRef)(null);(0,useLayoutEffectIsomorphic.A)((()=>{if(!getEmitterIsDestroyed()){const initialViewport=getCurrentViewport(allOrderedViewportNames),viewportToSet=null===initialViewport?null:getNearestViewport({currentViewportName:initialViewport.name,orderedViewportNames:orderedViewportsToWatch,allOrderedViewportNames,viewports:allViewports});var _viewportToSet_name;setViewport(viewportToSet),viewportName.current=null!==(_viewportToSet_name=null==viewportToSet?void 0:viewportToSet.name)&&void 0!==_viewportToSet_name?_viewportToSet_name:null}const handlers=(({callback,viewportsToWatch,allViewportNames,viewports})=>{const handlers=[];for(const viewportName of allViewportNames){const targetViewportName=viewportsToWatch.includes(viewportName)?viewportName:void 0,handler=newViewport=>{const nearestViewport=getNearestViewport({currentViewportName:newViewport.name,targetViewportName,orderedViewportNames:viewportsToWatch,allOrderedViewportNames:allViewportNames,viewports});callback(nearestViewport)};handlers.push([viewportName,handler])}return handlers})({callback:nearestViewport=>{var _nearestViewport_name;null!==nearestViewport&&viewportName.current===nearestViewport.name||(setViewport(nearestViewport),viewportName.current=null!==(_nearestViewport_name=null==nearestViewport?void 0:nearestViewport.name)&&void 0!==_nearestViewport_name?_nearestViewport_name:null)},viewportsToWatch:orderedViewportsToWatch,allViewportNames:allOrderedViewportNames,viewports:allViewports});return handlers.forEach((([_viewportName,handler])=>onViewport(_viewportName,handler))),()=>{handlers.forEach((([_viewportName,handler])=>offViewport(_viewportName,handler)))}}),[onViewport,offViewport,getCurrentViewport,getEmitterIsDestroyed,orderedViewportsToWatch,allOrderedViewportNames,allViewports])},useViewport=viewportProps=>{const[initialProps,setInitialProps]=(0,react.useState)(viewportProps),[viewport,setViewport]=(0,react.useState)(null),{viewports,events,getters}=(0,react.useContext)(ViewportContext.kw),{onViewport,offViewport}=events,{getCurrentViewport,getOrderedViewports,getEmitterIsDestroyed}=getters,allOrderedViewportNames=(0,react.useMemo)((()=>getOrderedViewports(Object.keys(viewports))),[viewports,getOrderedViewports]),orderedViewportsToWatch=(0,react.useMemo)((()=>{let viewportsToWatch=[];return viewportsToWatch=void 0!==initialProps?"string"==typeof initialProps?initialProps.split(" "):initialProps:Object.keys(viewports),getOrderedViewports(viewportsToWatch)}),[initialProps,getOrderedViewports,viewports]);return(0,react.useEffect)((()=>{(0,isEqual.A)(viewportProps,initialProps)||setInitialProps(viewportProps)}),[initialProps,viewportProps]),useViewportHandlers({setViewport,onViewport,offViewport,getCurrentViewport,getEmitterIsDestroyed,orderedViewportsToWatch,allViewports:viewports,allOrderedViewportNames}),viewport}},"./src/stories/components/DefaultContexts.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>DefaultContexts});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),BaseExperienceProvider=__webpack_require__("./src/contexts/BaseExperience/BaseExperienceProvider.tsx"),GalleryContextProvider=__webpack_require__("./src/contexts/Gallery/GalleryContextProvider.tsx"),export_mocks_router=__webpack_require__("./node_modules/.pnpm/@storybook+nextjs@8.3.0_esbuild@0.18.20_next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react_ry26k2ta75ijwdardnxyngm7jq/node_modules/@storybook/nextjs/dist/export-mocks/router/index.mjs"),react=__webpack_require__("./node_modules/.pnpm/next@14.1.4_@babel+core@7.25.2_react-dom@18.2.0_react@18.2.0__react@18.2.0_sass@1.78.0/node_modules/next/dist/compiled/react/index.js");const NextRouterContext=(0,react.createContext)(null),NextRouterProvider=({children})=>{const router=(0,export_mocks_router.useRouter)();return(0,jsx_runtime.jsx)(NextRouterContext.Provider,{value:router,children})};NextRouterProvider.__docgenInfo={description:"",methods:[],displayName:"NextRouterProvider",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const QueryStringContext=react.createContext(null),QueryStringProvider=({adapter,children})=>(0,jsx_runtime.jsx)(QueryStringContext.Provider,{value:adapter,children});QueryStringProvider.__docgenInfo={description:"",methods:[],displayName:"QueryStringProvider",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},adapter:{required:!0,tsType:{name:"union",raw:"QueryStringAdapter | null",elements:[{name:"QueryStringAdapter"},{name:"null"}]},description:""}}};const TextZoomContext=react.createContext({zoomRatio:null});function TextZoomContexProvider({children}){const[zoomRatio,setZoomRatio]=(0,react.useState)(null);return(0,react.useEffect)((()=>{const onZoom=evt=>{void 0!==evt.detail&&setZoomRatio(evt.detail.currentSize/evt.detail.originalSize)};return window.addEventListener("resize:text-zoom",onZoom),()=>{window.removeEventListener("resize:text-zoom",onZoom)}}),[]),(0,jsx_runtime.jsx)(TextZoomContext.Provider,{value:{zoomRatio},children})}TextZoomContexProvider.__docgenInfo={description:"",methods:[],displayName:"TextZoomContexProvider",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const autoprefixQuery=(key,query)=>("retina"===key&&(query=(query=>{const dppxPrefixIdx=query.indexOf("min-resolution: ");if(-1===dppxPrefixIdx)return query;const splitStr=query.substring(dppxPrefixIdx+16,query.length),dppxSuffixIndex=splitStr.indexOf("dppx");if(-1===dppxSuffixIndex)return query;const dppxVal=parseFloat(splitStr.substring(0,dppxSuffixIndex));return isNaN(dppxVal)?query:`(-webkit-min-device-pixel-ratio: ${dppxVal}), ${query}`})(query)),query),KNOWN_PROPS=new Set(["inverted-colors","landscape","portrait","retina"]);var sortedIndexBy=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/sortedIndexBy.js");const getViewportSortValue=viewport=>viewport.settings.minWidth,addSortedViewportToArr=(viewport,arr,viewportCache)=>{const insertionIdx=(0,sortedIndexBy.A)(viewportCache,viewport,getViewportSortValue);arr.splice(insertionIdx,0,viewport.name),viewportCache.splice(insertionIdx,0,viewport)},populateSettings=(name,rawViewport,isRangeViewport)=>{const settings={};var _rawViewport_query;("number"==typeof rawViewport["max-width"]&&(settings.maxWidth=rawViewport["max-width"]),isRangeViewport&&"number"!=typeof rawViewport["min-width"]||(settings.minWidth=rawViewport["min-width"]),isRangeViewport||"string"==typeof rawViewport.query)&&(settings.query=autoprefixQuery(name,null!==(_rawViewport_query=rawViewport.query)&&void 0!==_rawViewport_query?_rawViewport_query:""));return settings},getInitialSassKitContext=sassData=>{const{viewports:skViewports,...skScreenProps}=sassData,{viewportsOrder,viewports,rangeViewports}=(sassViewportsStr=>{const sassObj=JSON.parse(sassViewportsStr),orderedViewportsCache=[],result={viewportsOrder:[],viewports:{},rangeViewports:{}};for(const vpKey in sassObj)if(Object.prototype.hasOwnProperty.call(sassObj,vpKey)){const rawViewport=sassObj[vpKey],isRangeViewport=vpKey.startsWith("range:"),settings=populateSettings(vpKey,rawViewport,isRangeViewport);if(isRangeViewport){const typedSettings=settings,viewport={name:vpKey,viewport:(name=vpKey,name.substring(6,name.indexOf(" "))),settings:typedSettings};result.rangeViewports[vpKey]=viewport}else{const viewport={name:vpKey,settings};result.viewports[vpKey]=viewport,addSortedViewportToArr(viewport,result.viewportsOrder,orderedViewportsCache)}}var name;return result})(skViewports);return{viewportsOrder:[...viewportsOrder],viewports:{...viewports},rangeViewports:{...rangeViewports},screenProps:{...(sassKitProps=>{const result={};let propsLen=0;for(const key in sassKitProps)if(Object.prototype.hasOwnProperty.call(sassKitProps,key)){const typedKey=key;if(!KNOWN_PROPS.has(typedKey))throw new TypeError(`SassKit prop "${typedKey}" is not a known supported property of SassKitViewportPropKeys`);const query=sassKitProps[typedKey].replace(/['|"]/g,"");result[typedKey]={name:typedKey,settings:{query:autoprefixQuery(typedKey,query)}},propsLen++}if(propsLen!==KNOWN_PROPS.size)throw new TypeError(`Incorrect SassKit props returned. Expected "${Array.from(KNOWN_PROPS).join(", ")}", got "${Object.keys(result).join(", ")}"`);return result})(skScreenProps)}}};var ViewportContext=__webpack_require__("./src/contexts/Viewport/ViewportContext.tsx"),eventemitter3=__webpack_require__("./node_modules/.pnpm/eventemitter3@5.0.1/node_modules/eventemitter3/index.mjs");class ViewportEventEmitter{static getScreenPropEmitterKey(screenPropName){return`screen:${screenPropName}`}static getViewportEmitterKey(screenPropName){return`viewport:${screenPropName}`}_on(eventName,callback){return this.mediaQueriesInitialized||this._setupMediaQueries(),this.emitter.on(eventName,callback),this.callbackCount++,!0}_off(eventName,callback){return this.emitter.off(eventName,callback),this.callbackCount--,0===this.callbackCount&&this._teardownMediaQueries(),!0}_setupMediaQueries(){this.mediaQueriesInitialized||(this._setupViewportMediaQueries(),this._setupScreenPropMediaQueries(),this.mediaQueriesInitialized=!0)}_getRangeViewportsForIndex(viewportIdx,viewportsLen,viewportName){const rangeViewports=[this.rangeViewports[`range:${viewportName} only`]];return 0===viewportIdx&&rangeViewports.push(this.rangeViewports[`range:${viewportName} down`]),viewportIdx===viewportsLen-1&&rangeViewports.push(this.rangeViewports[`range:${viewportName} up`]),rangeViewports}_iterateViewportMediaQueries({bindHandler=!1,viewportNames}){let initialMatchingViewport=null;const orderedViewports=this.getOrderedViewports(viewportNames);for(let i=orderedViewports.length-1;i>-1;i--){const vpName=orderedViewports[i];if(Object.prototype.hasOwnProperty.call(this.viewports,vpName)){const rangeViewports=this._getRangeViewportsForIndex(i,orderedViewports.length,vpName);for(const rangeViewport of rangeViewports){const mediaQuery=window.matchMedia(rangeViewport.settings.query);if(mediaQuery.matches&&(initialMatchingViewport=this._getViewportForRangeViewport(rangeViewport)),bindHandler){const handler=event=>{event.matches&&this._handleViewportMediaQueryChange(rangeViewport)};mediaQuery.addEventListener("change",handler),this.mediaQueriesCache.push({mediaQuery,handler})}}}}return initialMatchingViewport}_setupViewportMediaQueries(){const initialMatchingViewport=this._iterateViewportMediaQueries({bindHandler:!0});var _initialMatchingViewport_name;this.activeViewportName=null!==(_initialMatchingViewport_name=null==initialMatchingViewport?void 0:initialMatchingViewport.name)&&void 0!==_initialMatchingViewport_name?_initialMatchingViewport_name:null}_setupScreenPropMediaQueries(){for(const screenPropName in this.screenProps)if(Object.prototype.hasOwnProperty.call(this.screenProps,screenPropName)){const screenProp=this.screenProps[screenPropName],mediaQuery=window.matchMedia(screenProp.settings.query);this.activeScreenPropValues.set(screenPropName,mediaQuery.matches);const handler=event=>{this._handleScreenPropMediaQueryChange(screenPropName,event.matches)};mediaQuery.addEventListener("change",handler),this.mediaQueriesCache.push({mediaQuery,handler})}}_teardownMediaQueries(){for(const{mediaQuery,handler}of this.mediaQueriesCache)mediaQuery.removeEventListener("change",handler);this.mediaQueriesCache=[],this.activeViewportName=null,this.activeScreenPropValues.clear(),this.mediaQueriesInitialized=!1}_handleViewportMediaQueryChange(rangeViewport){const viewportName=rangeViewport.viewport;if(viewportName!==this.activeViewportName){const viewportObj=this._getViewportForRangeViewport(rangeViewport);if(null!==viewportObj){this.activeViewportName=viewportName;const emitterKey=ViewportEventEmitter.getViewportEmitterKey(viewportName);this.emitter.emit(emitterKey,{...viewportObj})}}}_handleScreenPropMediaQueryChange(screenPropName,matches){if(this.activeScreenPropValues.get(screenPropName)!==matches){this.activeScreenPropValues.set(screenPropName,matches);const emitterKey=ViewportEventEmitter.getScreenPropEmitterKey(screenPropName);this.emitter.emit(emitterKey,matches)}}_getViewportForRangeViewport(rangeViewport){var _this_viewports_rangeViewport_viewport;return null!==(_this_viewports_rangeViewport_viewport=this.viewports[rangeViewport.viewport])&&void 0!==_this_viewports_rangeViewport_viewport?_this_viewports_rangeViewport_viewport:null}_hasViewport(viewportName){return Object.prototype.hasOwnProperty.call(this.viewports,viewportName)}constructor({viewportsOrder,viewports,rangeViewports,screenProps}){this.getCurrentViewport=viewportNames=>{if(this.didDestroy)throw new Error("ViewportEmitter already destroyed, cannot get viewport");return void 0===viewportNames&&this.mediaQueriesInitialized&&null!==this.activeViewportName?this.viewports[this.activeViewportName]:this._iterateViewportMediaQueries({viewportNames})},this.getCurrentScreenPropValue=screenPropName=>{var _this_activeScreenPropValues_get;if(this.mediaQueriesInitialized&&this.activeScreenPropValues.has(screenPropName))return null!==(_this_activeScreenPropValues_get=this.activeScreenPropValues.get(screenPropName))&&void 0!==_this_activeScreenPropValues_get?_this_activeScreenPropValues_get:null;if(Object.prototype.hasOwnProperty.call(this.screenProps,screenPropName)){const screenProp=this.screenProps[screenPropName];if(void 0===screenProp)return null;return window.matchMedia(screenProp.settings.query).matches}return null},this.getOrderedViewports=viewportNames=>{let orderedViewports=this.viewportsOrder;return void 0!==viewportNames&&(orderedViewports=orderedViewports.filter((vp=>viewportNames.includes(vp)))),orderedViewports},this.getIsDestroyed=()=>this.didDestroy,this.onViewport=(viewportName,callback)=>{if(!this._hasViewport(viewportName))return!1;const emitterKey=ViewportEventEmitter.getViewportEmitterKey(viewportName);return this._on(emitterKey,callback)},this.onScreenProp=(screenPropName,callback)=>{if(!this.activeScreenPropValues.has(screenPropName))return!1;const emitterKey=ViewportEventEmitter.getScreenPropEmitterKey(screenPropName);return this._on(emitterKey,callback)},this.offViewport=(viewportName,callback)=>{if(!this._hasViewport(viewportName))return!1;const emitterKey=ViewportEventEmitter.getViewportEmitterKey(viewportName);return this._off(emitterKey,callback)},this.offScreenProp=(screenPropName,callback)=>{if(!this.activeScreenPropValues.has(screenPropName))return!1;const emitterKey=ViewportEventEmitter.getScreenPropEmitterKey(screenPropName);return this._off(emitterKey,callback)},this.destroy=()=>{this.emitter.removeAllListeners(),this._teardownMediaQueries(),this.viewports={},this.rangeViewports={},this.screenProps={},this.callbackCount=0,this.didDestroy=!0},this.viewportsOrder=viewportsOrder,this.viewports=viewports,this.rangeViewports=rangeViewports,this.screenProps=screenProps,this.mediaQueriesInitialized=!1,this.activeViewportName=null,this.activeScreenPropValues=new Map,this.emitter=new eventemitter3.A,this.mediaQueriesCache=[],this.callbackCount=0,this.didDestroy=!1}}const Viewport_ViewportEventEmitter=ViewportEventEmitter,getEvents=vpEventEmitter=>{const{onViewport,offViewport,onScreenProp,offScreenProp}=vpEventEmitter;return{initialized:!0,onViewport,offViewport,onScreenProp,offScreenProp}},getGetters=vpEventEmitter=>{const{getCurrentViewport,getCurrentScreenPropValue,getOrderedViewports,getIsDestroyed}=vpEventEmitter;return{getCurrentViewport,getCurrentScreenPropValue,getOrderedViewports,getEmitterIsDestroyed:getIsDestroyed}},SassKitViewportsProvider=({sassData,children})=>{if(void 0===sassData)throw new Error("ViewportsContext is missing");const{"inverted-colors":invertedColors,landscape,portrait,retina,viewports}=sassData,[isReady,setIsReady]=(0,react.useState)(!1),getInitialContextValue=(0,react.useCallback)((()=>getInitialSassKitContext({"inverted-colors":invertedColors,landscape,portrait,retina,viewports})),[invertedColors,landscape,portrait,retina,viewports]),{events,getters}=(0,react.useMemo)((()=>{if(!isReady)return{vpEventEmitter:null,events:(0,ViewportContext.Ie)(),getters:(0,ViewportContext.P5)()};const initialContextValue=getInitialContextValue(),emitter=new Viewport_ViewportEventEmitter({...initialContextValue});return{vpEventEmitter:emitter,events:getEvents(emitter),getters:getGetters(emitter)}}),[isReady,getInitialContextValue]);return(0,react.useEffect)((()=>(setIsReady(!0),()=>{setIsReady(!1)})),[setIsReady]),(0,jsx_runtime.jsx)(ViewportContext.kw.Provider,{value:{...getInitialContextValue(),events,getters},children})};SassKitViewportsProvider.__docgenInfo={description:"",methods:[],displayName:"SassKitViewportsProvider",props:{sassData:{required:!1,tsType:{name:"SerializedSassData"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var index_module=__webpack_require__("./node_modules/.pnpm/use-debounce@10.0.3_react@18.2.0/node_modules/use-debounce/dist/index.module.js");const getViewportWidth=()=>Math.min(document.documentElement.clientWidth,window.innerWidth),getViewportHeight=()=>Math.min(document.documentElement.clientWidth,window.innerWidth);var WindowContext=__webpack_require__("./src/contexts/Window/WindowContext.ts");function WindowContextProvider({children,wait=300}){const getScroll=(0,react.useCallback)((()=>window.scrollY),[]),[clientHeight,setClientHeight]=(0,react.useState)(getViewportHeight()),[clientWidth,setClientWidth]=(0,react.useState)(getViewportWidth()),[scrollY,setScrollY]=(0,react.useState)(getScroll()),handleResize=(0,index_module.YQ)((()=>{setClientHeight(getViewportHeight()),setClientWidth(getViewportWidth())}));return(0,react.useEffect)((()=>(window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize)})),[wait]),(0,react.useEffect)((()=>{let rafId;const run=()=>{setScrollY(getScroll()),rafId=window.requestAnimationFrame(run)};return requestAnimationFrame(run),()=>cancelAnimationFrame(rafId)}),[getScroll]),(0,jsx_runtime.jsx)(WindowContext._.Provider,{value:{clientHeight,clientWidth,scrollY},children})}function reducer(state,action){return{...state,...action.data}}WindowContextProvider.__docgenInfo={description:"",methods:[],displayName:"WindowContextProvider",props:{wait:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"300",computed:!1}},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const useQueryStringAdapterMock=()=>{const[state,dispatch]=(0,react.useReducer)(reducer,{});return(0,react.useMemo)((()=>({getQuery:name=>state[name],setQuery:async(name,value)=>{await Promise.resolve(),dispatch({data:{[name]:value}})},clearQuery:async name=>{await Promise.resolve(),dispatch({data:{[name]:void 0}})}})),[state,dispatch])},sassData={viewports:'{"large":{"min-width":1069,"max-width":1440,"content":980},"xlarge":{"min-width":1441,"content":980},"medium":{"min-width":735,"max-width":1068,"content":692},"small":{"min-width":320,"max-width":734,"content":280},"range:large only":{"content":980,"min-width":1069,"max-width":1440,"query":"(min-width: 1069px) and (max-width: 1440px)"},"range:xlarge only":{"content":980,"min-width":1441,"query":"(min-width: 1441px)"},"range:medium only":{"content":692,"min-width":735,"max-width":1068,"query":"(min-width: 735px) and (max-width: 1068px)"},"range:small only":{"content":280,"min-width":320,"max-width":734,"query":"(min-width: 320px) and (max-width: 734px)"},"range:large up":{"content":980,"min-width":1069,"query":"(min-width: 1069px)"},"range:xlarge up":{"content":980,"min-width":1441,"query":"(min-width: 1441px)"},"range:medium up":{"content":692,"min-width":735,"query":"(min-width: 735px)"},"range:small up":{"content":280,"min-width":320,"query":"(min-width: 320px)"},"range:large down":{"content":980,"max-width":1440,"query":"(max-width: 1440px)"},"range:xlarge down":{"content":980},"range:medium down":{"content":692,"max-width":1068,"query":"(max-width: 1068px)"},"range:small down":{"content":280,"max-width":734,"query":"(max-width: 734px)"}}',portrait:"'\"(orientation: portrait)\"'",landscape:"'\"(orientation: landscape)\"'","inverted-colors":"'\"(inverted-colors)\"'",retina:'"(min-resolution: 1.5dppx)", "(min-resolution: 144dpi)"'};function DefaultContexts({children}){const qsAdapter=useQueryStringAdapterMock();return(0,jsx_runtime.jsx)(NextRouterProvider,{children:(0,jsx_runtime.jsx)(QueryStringProvider,{adapter:qsAdapter,children:(0,jsx_runtime.jsx)(WindowContextProvider,{wait:300,children:(0,jsx_runtime.jsx)(TextZoomContexProvider,{children:(0,jsx_runtime.jsx)(GalleryContextProvider.Z,{children:(0,jsx_runtime.jsx)(SassKitViewportsProvider,{sassData,children:(0,jsx_runtime.jsx)(BaseExperienceProvider.z,{children})})})})})})})}DefaultContexts.__docgenInfo={description:"",methods:[],displayName:"DefaultContexts",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}}}]);